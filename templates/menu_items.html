{% extends "layout.html" %}
{% block content %}
  <a class="btn btn-success" href="{{ url_for('menu_items.new_menu_item') }}">New Menu Item</a>
  {% if menu_items %}
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Price</th>
        <th>Type</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody>
      {% for item in menu_items %}
      <tr>
        <td>{{ item.item_id }}</td>
        <td>{{ item.item_name }}</td>
        <td>‚Ç¨ {{ '%.2f'|format(item.item_price) }}</td>
        <td>
          {% if item.pizzas %}
            <span style="color: #d2691e;">üçï Pizza</span>
          {% elif item.drinks %}
            <span style="color: #4169e1;">ü•§ Drink</span>
          {% elif item.desserts %}
            <span style="color: #8b4513;">üç∞ Dessert</span>
          {% else %}
            General
          {% endif %}
        </td>
        <td>
          {% if item.pizzas and item.pizzas[0].ingredients %}
            <div class="pizza-ingredients">
              Ingredients: 
              {% for ingredient in item.pizzas[0].ingredients %}
                {{ ingredient.ingredient_name }}{% if not loop.last %}, {% endif %}
              {% endfor %}
            </div>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p>No menu items yet.</p>
  {% endif %}
{% endblock %}